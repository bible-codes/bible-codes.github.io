<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="description" content="Comprehensive Hebrew Bible analysis tools - ELS, Gematria, Notarikon, Tsirufim, and more">
  <meta name="theme-color" content="#667eea">
  <link rel="icon" type="image/png" href="img/favicon.png">
  <link rel="stylesheet" href="css/mobile-optimized.css">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <title>Hebrew Bible Analysis Suite | ×—×‘×™×œ×ª × ×™×ª×•×— ×”×ª× ×´×š ×”×¢×‘×¨×™</title>

  <style>
    .hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      text-align: center;
      padding: var(--space-2xl) var(--space-md);
      margin-bottom: var(--space-xl);
    }

    .hero-title {
      font-size: var(--font-size-3xl);
      margin-bottom: var(--space-md);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .hero-subtitle {
      font-size: var(--font-size-lg);
      opacity: 0.95;
      margin-bottom: var(--space-sm);
    }

    .hero-legend {
      font-size: var(--font-size-sm);
      opacity: 0.9;
      margin-top: var(--space-md);
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: var(--font-size-4xl);
      }
    }

    .tools-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-md);
      margin-bottom: var(--space-xl);
    }

    @media (min-width: 640px) {
      .tools-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .tools-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .tool-card {
      background: white;
      border-radius: var(--radius-lg);
      padding: var(--space-lg);
      box-shadow: 0 4px 8px var(--shadow);
      transition: all var(--transition-normal);
      text-decoration: none;
      color: var(--text-primary);
      display: flex;
      flex-direction: column;
      min-height: 200px;
      -webkit-tap-highlight-color: transparent;
    }

    .tool-card:hover,
    .tool-card:active {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px var(--shadow-lg);
    }

    .tool-icon {
      font-size: 3rem;
      margin-bottom: var(--space-md);
    }

    .tool-title {
      color: var(--primary);
      font-size: var(--font-size-xl);
      font-weight: 700;
      margin-bottom: var(--space-sm);
    }

    .tool-description {
      color: var(--text-secondary);
      line-height: var(--line-height-normal);
      flex-grow: 1;
      margin-bottom: var(--space-md);
    }

    .tool-status {
      display: inline-block;
      padding: var(--space-xs) var(--space-md);
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: 600;
      align-self: flex-start;
    }

    .status-active {
      background: #d4edda;
      color: var(--success);
    }

    .status-new {
      background: #cfe2ff;
      color: var(--info);
    }

    .status-planned {
      background: #fff3cd;
      color: var(--warning);
    }

    .features-section {
      background: white;
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      margin-bottom: var(--space-xl);
      box-shadow: 0 2px 8px var(--shadow);
    }

    .section-title {
      color: var(--primary);
      font-size: var(--font-size-2xl);
      margin-bottom: var(--space-lg);
      text-align: center;
    }

    .features-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-sm);
    }

    @media (min-width: 640px) {
      .features-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .features-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .feature-item {
      padding: var(--space-md);
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    [dir="rtl"] .feature-item {
      border-right: 4px solid var(--primary);
    }

    [dir="ltr"] .feature-item {
      border-left: 4px solid var(--primary);
    }

    .feature-icon {
      font-size: 1.5rem;
    }

    .feature-text {
      font-weight: 600;
      color: var(--text-primary);
    }

    .about-section {
      background: white;
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      margin-bottom: var(--space-xl);
      box-shadow: 0 2px 8px var(--shadow);
    }

    .about-text {
      line-height: var(--line-height-loose);
      color: var(--text-secondary);
      margin-bottom: var(--space-md);
    }

    .offline-indicator {
      position: fixed;
      bottom: var(--space-md);
      z-index: var(--z-toast);
      text-align: center;
      font-weight: 600;
      background: var(--warning);
      color: white;
      padding: var(--space-md);
      border-radius: var(--radius-md);
      box-shadow: 0 4px 12px var(--shadow-lg);
    }

    [dir="rtl"] .offline-indicator {
      left: var(--space-md);
      right: var(--space-md);
    }

    [dir="ltr"] .offline-indicator {
      left: var(--space-md);
      right: var(--space-md);
    }

    @media (min-width: 768px) {
      [dir="rtl"] .offline-indicator {
        left: auto;
        right: var(--space-lg);
        max-width: 300px;
      }
      [dir="ltr"] .offline-indicator {
        right: auto;
        left: var(--space-lg);
        max-width: 300px;
      }
    }

    .footer {
      text-align: center;
      padding: var(--space-xl);
      color: var(--text-secondary);
      background: white;
      border-radius: var(--radius-lg);
      margin-bottom: var(--space-xl);
    }

    .footer-links {
      margin-top: var(--space-md);
    }

    .footer-link {
      color: var(--primary);
      text-decoration: none;
      margin: 0 var(--space-sm);
    }

    .footer-link:hover {
      text-decoration: underline;
    }

    /* Language Toggle Button */
    .lang-toggle {
      position: fixed;
      top: var(--space-md);
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      padding: var(--space-sm) var(--space-md);
      font-size: var(--font-size-sm);
      font-weight: 700;
      cursor: pointer;
      z-index: var(--z-modal);
      box-shadow: 0 2px 8px var(--shadow);
      transition: all var(--transition-fast);
    }

    [dir="rtl"] .lang-toggle {
      left: var(--space-md);
    }

    [dir="ltr"] .lang-toggle {
      right: var(--space-md);
    }

    .lang-toggle:hover {
      background: var(--secondary);
      transform: scale(1.05);
    }

    @media (min-width: 768px) {
      .lang-toggle {
        top: var(--space-lg);
      }
      [dir="rtl"] .lang-toggle {
        left: var(--space-lg);
      }
      [dir="ltr"] .lang-toggle {
        right: var(--space-lg);
      }
    }
  </style>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(registration => {
            console.log('Service Worker registered:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }
  </script>
</head>

<body>
  <!-- Language Toggle -->
  <button id="lang-toggle" class="lang-toggle" aria-label="Toggle language">EN</button>

  <!-- Mobile Navigation -->
  <header class="mobile-header">
    <div class="mobile-header-inner">
      <a href="index.html" class="logo" data-i18n="logo">× ×™×ª×•×— ×ª× "×š</a>
      <button id="hamburger" class="hamburger" aria-label="Menu" data-i18n-aria="menuLabel">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <nav id="mobile-nav" class="mobile-nav">
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a href="index.html" class="mobile-nav-link active">
            <span class="nav-icon">ğŸ </span>
            <span data-i18n="home">Home</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="bible-codes.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸ”</span>
            <span data-i18n="elsCodes">Torah Codes (ELS)</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="text-search.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸ“–</span>
            <span data-i18n="textSearch">Text Search</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="gematria.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸ”¢</span>
            <span data-i18n="gematria">Gematria</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="acronym.html" class="mobile-nav-link">
            <span class="nav-icon">âœ¡ï¸</span>
            <span data-i18n="acronyms">Acronyms</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="tsirufim.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸŒŸ</span>
            <span data-i18n="tsirufim">Tsirufim</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="matrix-view.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸ”²</span>
            <span data-i18n="matrixView">Matrix View</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="book-view.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸ“œ</span>
            <span data-i18n="bookView">Book View</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="test-roots.html" class="mobile-nav-link">
            <span class="nav-icon">ğŸŒ±</span>
            <span data-i18n="rootTest">Root Testing</span>
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <!-- Hero Section -->
    <section class="hero">
      <h1 class="hero-title" data-i18n="heroTitle">Comprehensive Hebrew Bible Analysis</h1>
      <p class="hero-subtitle" data-i18n="heroSubtitle">Advanced tools for searching, analyzing, and studying the Torah</p>
      <p class="hero-legend">ğŸ”´ <span data-i18n="statusActive">Active</span> | ğŸ”µ <span data-i18n="statusNew">New!</span> | ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></p>
    </section>

    <!-- Tools Grid -->
    <section class="tools-grid">
      <!-- ELS Bible Codes -->
      <a href="bible-codes.html" class="tool-card">
        <div class="tool-icon">ğŸ”</div>
        <h3 class="tool-title" data-i18n="elsTitle">Torah Codes (ELS)</h3>
        <p class="tool-description" data-i18n="elsDesc">Equidistant Letter Sequence (ELS) search with dynamic skip-distance analysis across the full text.</p>
        <span class="tool-status status-active">ğŸ”´ <span data-i18n="statusActive">Active</span></span>
      </a>

      <!-- Text Search -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ“–</div>
        <h3 class="tool-title" data-i18n="textSearchTitle">Text Search</h3>
        <p class="tool-description" data-i18n="textSearchDesc">Advanced search with pattern matching, first/last letter filtering, and verse-by-verse navigation.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Gematria -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ”¢</div>
        <h3 class="tool-title" data-i18n="gematriaTitle">Gematria</h3>
        <p class="tool-description" data-i18n="gematriaDesc">Gematria calculation using multiple methods (standard, reduced, ordinal). Search verses by numeric value.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Acronym/Notarikon -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">âœ¡ï¸</div>
        <h3 class="tool-title" data-i18n="acronymTitle">Acronyms & Notarikon</h3>
        <p class="tool-description" data-i18n="acronymDesc">Extract first and last letters to form acronyms. Analysis of traditional Notarikon patterns.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Tsirufim -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸŒŸ</div>
        <h3 class="tool-title" data-i18n="tsirufimTitle">Semantic Permutations</h3>
        <p class="tool-description" data-i18n="tsirufimDesc">Advanced semantic permutation analysis: discover how letters combine into related meanings. Uses machine learning and semantic clustering.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Root Extraction -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸŒ±</div>
        <h3 class="tool-title" data-i18n="rootsTitle">Root Extraction</h3>
        <p class="tool-description" data-i18n="rootsDesc">Identify Hebrew roots (triliteral/quadriliteral) from words. 56K word dictionary, binyan detection, confidence scoring.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Matrix View -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ”²</div>
        <h3 class="tool-title" data-i18n="matrixView">Matrix View</h3>
        <p class="tool-description" data-i18n="matrixViewDesc">Visual character grid with configurable dimensions. Search for ELS patterns within the matrix display.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Book View -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ“œ</div>
        <h3 class="tool-title" data-i18n="bookView">Book View</h3>
        <p class="tool-description" data-i18n="bookViewDesc">Traditional book-style reader with chapter/verse navigation. Toggle niqqud and cantillation marks.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Letter Analysis -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ“Š</div>
        <h3 class="tool-title" data-i18n="letterAnalysisTitle">Letter & Word Analysis</h3>
        <p class="tool-description" data-i18n="letterAnalysisDesc">Character-level database for letter counting, word pattern analysis, and text structure exploration.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Cantillation -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸµ</div>
        <h3 class="tool-title" data-i18n="cantillationTitle">Cantillation Viewer</h3>
        <p class="tool-description" data-i18n="cantillationDesc">View and compare cantillation marks, including alternate traditions like the Ten Commandments.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>

      <!-- Cross-References -->
      <div class="tool-card" style="opacity: 0.7;">
        <div class="tool-icon">ğŸ”—</div>
        <h3 class="tool-title" data-i18n="crossRefTitle">Cross-Reference Index</h3>
        <p class="tool-description" data-i18n="crossRefDesc">Explore where verses appear in Talmud, Midrash, and Zohar. Links to Sefaria and other sources.</p>
        <span class="tool-status status-planned">ğŸŸ¡ <span data-i18n="statusPlanned">Planned</span></span>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
      <h2 class="section-title" data-i18n="featuresTitle">Key Features</h2>
      <div class="features-grid">
        <div class="feature-item">
          <span class="feature-icon">ğŸ’»</span>
          <span class="feature-text" data-i18n="feature1">100% Client-Side Processing</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“´</span>
          <span class="feature-text" data-i18n="feature2">Full Offline Functionality</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ—„ï¸</span>
          <span class="feature-text" data-i18n="feature3">Character-Level Database</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">âš¡</span>
          <span class="feature-text" data-i18n="feature4">Fast Performance</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ”¢</span>
          <span class="feature-text" data-i18n="feature5">Multiple Gematria Methods</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸŒ±</span>
          <span class="feature-text" data-i18n="feature6">Root-Based Analysis</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ§ </span>
          <span class="feature-text" data-i18n="feature7">Semantic Machine Learning</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ¯</span>
          <span class="feature-text" data-i18n="feature8">Precise & Fast Search</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“±</span>
          <span class="feature-text" data-i18n="feature9">Mobile-Optimized Interface</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ”</span>
          <span class="feature-text" data-i18n="feature10">Full Privacy (No Server)</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸŒ</span>
          <span class="feature-text" data-i18n="feature11">Installable PWA</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“Š</span>
          <span class="feature-text" data-i18n="feature12">Statistical Analysis</span>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about-section">
      <h2 class="section-title" data-i18n="aboutTitle">About the Project</h2>
      <p class="about-text" data-i18n="aboutText1">
        A comprehensive Hebrew Bible analysis suite providing advanced tools for Torah study, research, and exploration. The project is built entirely with client-side technologies, so all processing happens in your browser without server dependency. The application uses a character-level database architecture enabling everything from traditional ELS searches to advanced statistical analysis, gematria calculations, and structural exploration of the Masoretic text.
      </p>
      <p class="about-text" data-i18n="aboutText2">
        As a Progressive Web App (PWA), the application can be installed and used completely offline, making it ideal for study and research without an internet connection.
      </p>
      <p class="about-text">
        <strong data-i18n="statusPlanned">Planned:</strong> <span data-i18n="aboutText3">Future features include a Hebrew root extraction engine with a 56,000+ word dictionary, and a semantic permutation tool using machine learning to identify hidden semantic connections between words.</span>
      </p>
    </section>

    <!-- Offline Indicator -->
    <div id="offline-indicator" class="offline-indicator hidden" data-i18n="offlineMsg">
      You are offline. Some features may be limited.
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2026 <span data-i18n="footerCopyright">Hebrew Bible Analysis Suite | Open Source Project</span></p>
    <div class="footer-links">
      <a href="https://github.com/bible-codes/bible-codes.github.io" target="_blank" class="footer-link">GitHub</a>
      <a href="DOCUMENTATION.md" class="footer-link" data-i18n="documentation">Documentation</a>
      <a href="mailto:roni762583@gmail.com" class="footer-link" data-i18n="contact">Contact</a>
    </div>
  </footer>

  <script type="module">
    import { initMobileNav } from './js/mobile-nav.js';
    import { initI18n, applyTranslations, toggleLang, getLang, t } from './js/i18n.js';

    // Initialize i18n
    initI18n();

    // Apply translations on load
    applyTranslations('index');

    // Update toggle button text based on current language
    const toggleBtn = document.getElementById('lang-toggle');
    toggleBtn.textContent = getLang() === 'he' ? 'EN' : '×¢×‘';
    toggleBtn.title = getLang() === 'he' ? 'Switch to English' : '×¢×‘×•×¨ ×œ×¢×‘×¨×™×ª';

    // Language toggle handler
    toggleBtn.addEventListener('click', () => {
      toggleLang();
      applyTranslations('index');
      toggleBtn.textContent = getLang() === 'he' ? 'EN' : '×¢×‘';
      toggleBtn.title = getLang() === 'he' ? 'Switch to English' : '×¢×‘×•×¨ ×œ×¢×‘×¨×™×ª';
    });

    // Initialize mobile navigation
    initMobileNav();

    // Offline indicator
    window.addEventListener('online', () => {
      document.getElementById('offline-indicator')?.classList.add('hidden');
    });

    window.addEventListener('offline', () => {
      document.getElementById('offline-indicator')?.classList.remove('hidden');
    });

    // Check initial offline status
    if (!navigator.onLine) {
      document.getElementById('offline-indicator')?.classList.remove('hidden');
    }
  </script>

  <!-- PWA Install Prompt -->
  <script src="./js/pwa-install.js"></script>
</body>
</html>
